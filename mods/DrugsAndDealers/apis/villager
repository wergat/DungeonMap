dcore.requireAPI("advitem")
dcore.requireAPI("potion")

registerCustomVillagerType("drug",function(self,argLevel)
	local level = argLevel or 1
	local amountOfTrades = math.random(3,5)
	for i=1,amountOfTrades do
		local itemTable, price = potion.generatePotionItem(level)
		local trade = newTrade():setBuyToMoney(getShopPrice(tonumber(price)))
		itemTable["Count"] = 1
		trade:setSell(itemTable)
		self:addTrade(trade)
	end
	self:addBlocker()
	self.name = 'Drug Dealer'
	self.profession = 2
	return self
end)
